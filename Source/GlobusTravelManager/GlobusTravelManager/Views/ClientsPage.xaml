<Page x:Class="GlobusTravelManager.Views.ClientsPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Управление клиентами">

	<Grid Margin="10">
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="*"/>
			<RowDefinition Height="Auto"/>
		</Grid.RowDefinitions>

		<!-- Панель управления -->
		<StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
			<Button Content="✏️ Редактировать" Width="120" Height="35"
                    Background="#2196F3" Foreground="White"
                    Click="BtnEdit_Click"/>

			<Button Content="🗑️ Удалить" Width="120" Height="35" Margin="10,0,0,0"
                    Background="#F44336" Foreground="White"
                    Click="BtnDelete_Click"/>

			<Button Content="🔄 Обновить" Width="120" Height="35" Margin="10,0,0,0"
                    Click="BtnRefresh_Click"/>
		</StackPanel>

		<!-- Список клиентов -->
		<DataGrid x:Name="dgClients" Grid.Row="1"
                  AutoGenerateColumns="False" IsReadOnly="True"
                  CanUserAddRows="False" SelectionMode="Single">

			<DataGrid.Columns>
				<DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="40"/>
				<DataGridTextColumn Header="ФИО" Binding="{Binding FullName}" Width="200"/>
				<DataGridTextColumn Header="Логин (email)" Binding="{Binding Login}" Width="200"/>

				<!-- Количество заявок -->
				<DataGridTemplateColumn Header="Количество заявок" Width="120">
					<DataGridTemplateColumn.CellTemplate>
						<DataTemplate>
							<TextBlock Text="{Binding BookingCount}" HorizontalAlignment="Center"/>
						</DataTemplate>
					</DataGridTemplateColumn.CellTemplate>
				</DataGridTemplateColumn>
			</DataGrid.Columns>
		</DataGrid>

		<!-- Статистика -->
		<StackPanel Grid.Row="2" Orientation="Horizontal" Margin="0,10,0,0">
			<TextBlock Text="Клиентов:" FontWeight="Bold"/>
			<TextBlock x:Name="tbClientCount" Text="0" FontWeight="Bold" Margin="5,0,20,0"/>

			<TextBlock Text="Всего заявок:" FontWeight="Bold"/>
			<TextBlock x:Name="tbTotalBookings" Text="0" FontWeight="Bold" Margin="5,0,0,0"/>
		</StackPanel>
	</Grid>
</Page>